<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <meta charset="UTF-8" />
    <title>HELLO</title>
</head>
<body>
<form id="gizmo-form" role="form" th:action="@{/save}" method="post" th:object="${gizmo}">
    <div>
        <label for="planName">Field 1</label>
        <input type="text" id="planName" name="planName" th:field="${gizmo.planName}"/>
    </div>
    <div>
        <label for="capCost">Field 2</label>
        <input type="text" id="capCost" name="capCost" th:field="${gizmo.capCost}"/>
    </div>
    <div>
        <ul>
            <li th:each="item, stat : *{buildPlanMetals}" class="itemRow">
                <div>
                    <label th:for="${'grade-'+stat.index}">Field 1</label>
                    <input type="text" class="form-control quantity" name="grade"
                           th:field="*{buildPlanMetals[__${stat.index}__].grade}" th:id="${'grade-'+stat.index}"/>
 
                    <label th:for="${'payable-'+stat.index}">Field 2</label>
                    <input type="text" class="form-control quantity" name="payable"
                           th:field="*{buildPlanMetals[__${stat.index}__].payable}" th:id="${'payable-'+stat.index}"/>
                </div>
            </li>
        </ul>
    </div>
    <div>
        <button type="submit">Save</button>
    </div>
</form>
</body>
</html>